<div data-controller="dropdown" data-action="click->dropdown#toggle click@window->dropdown#hide">
  <div id="dropdown-button" class="relative inline-block">
    <div role="button" tabindex="0" data-dropdown-target="button" id="user-menu-button" class="select-none flex items-center py-1.5" aria-expanded="false" aria-haspopup="true">
        <span class="sr-only">
          Open user menu
        </span>
        <div class="h-8 w-8 rounded-full bg-gray-50">
          <img class="rounded-full bg-gray-50" alt="Avatar" src=<%= session[:user_profile_picture_url] %>>
        </div>
        <span class="hidden lg:flex lg:items-center">
          <svg class="ml-2 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd" />
          </svg>
        </span>
    </div>
    <div data-dropdown-target="menu"
          data-transition-enter="transition ease-out duration-200"
          data-transition-enter-from="opacity-0 translate-y-1"
          data-transition-enter-to="opacity-100 translate-y-0"
          data-transition-leave="transition ease-in duration-150"
          data-transition-leave-from="opacity-100 translate-y-0"
          data-transition-leave-to="opacity-0 translate-y-1"
          class="hidden absolute right-0">
      <div class="flex flex-col justify-start items-start gap-px py-0.5 rounded-lg bg-white border border-gray-300" style="box-shadow: 1px 1px 4px 0 rgba(0,0,0,0.1);">
        <div class="flex justify-start items-start px-4 py-3">
          <div class="flex flex-col justify-start items-start relative gap-1">
            <% if @user %>
              <p class="text-base text-center text-gray-900">Prihlásený ako</p>
              <p class="text-base font-medium text-center text-gray-900"><%= @user.email %></p>
            <% else %>
              <p class="text-base text-center text-gray-900">Neprihlásený</p>
            <% end %>
          </div>
        </div>
        <div class="flex justify-start items-center relative">
          <svg width="183" height="1" viewBox="0 0 183 1" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet">
            <line y1="0.5" x2="183" y2="0.5" stroke="#E5E7EB"></line>
          </svg>
        </div>
        <div class="flex justify-start items-start px-4 py-2">
          <%= button_to sessions_path, method: :delete, class: "text-base font-medium text-left text-gray-900 hover:underline", role: "menuitem", tabindex: "-1", id: "user-menu-item-1" do %>
            <div class="flex justify-center items-center relative gap-3">
              <%= render Icons::ArrowRightOnRectangleComponent.new %>
              Odhlásiť sa
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
